<?xml version="1.0" encoding="utf-8"?>

<project name="PCT-Tests">

  <property name="testdir" location="testbox" />
  <property name="testng-v9" location="test-output-v9" />
  <property name="testng-v10" location="test-output-v10" />
  <property name="testng-v10-64" location="test-output-v10-64" />

  <path id="test.run.cp">
    <pathelement location="PCT.jar" />
    <pathelement location="ant.jar" />
    <pathelement location="ant-launcher.jar" />
    <pathelement location="ant-apache-regexp.jar" />
    <pathelement location="jakarta-regexp-1.5.jar" />
    <pathelement location="testng-5.14.4.jar" />
    <pathelement location="PCT-Tests.jar" />
    <pathelement location="ini4j-0.5.1.jar" />
  </path>

  <path id="testng.cp">
    <fileset dir="." includes="testng-5.14.4.jar" />
  </path>

  <target name="prepare-test" >
    <delete dir="${testdir}" />
    <mkdir dir="${testdir}" />
    <unzip src="pct-tests.zip" dest="${testdir}" />
  </target>

  <target name="test" depends="prepare-test">
  <mkdir dir="test-output" />
    <taskdef resource="testngtasks" classpathref="testng.cp" />
    <testng workingDir="${testdir}" testJar="PCT-Tests.jar" outputdir="test-output" useDefaultListeners="true">
      <classpath refid="test.run.cp" />
      <jvmarg line="-DDLC=&quot;${DLC}&quot;" />
    </testng>
  </target>


</project>