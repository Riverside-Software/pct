<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
    
<html>

<head>
<meta http-equiv="Content-type" content="text/html; charset=utf-8" />
<meta http-equiv="Content-language" content="en" />
<meta name="Keywords" content="progress,ant,compilation,automated,task,querret,apache,build tools,roundtable" />
<meta name="Description" content="PCT is set of ANT tasks designed to compile Progress procedures among others things" />
<meta name="revisit-after" content="30 days" />
<meta name="DC.Language" content="en" />
<title>PCT documentation - PCTCompileExt task</title>
<link rel="stylesheet" type="text/css" href="style.css" media="screen" title="Normal" />
</head>
<body>

<div class="Main">

<div class="Bandeau">
  <span id="sflogo">
    <a href="http://sourceforge.net"><img id="sflogoimg" alt="SourceForge.net Logo" height="31" width="88" src="http://sourceforge.net/sflogo.php?group_id=%3Cb%3E85743%3C/b%3E&amp;amp;type=1"/></a>
  </span>
  Progress&reg; OpenEdge&reg; Compilation Tools
</div>

<div class="Menu">
  <a href="index.html">Overview</a>
  :: <a href="download.html">Download</a>
  :: <a href="screenshots.html">Screenshots</a>
  :: <span class="selected">Documentation</span>
  :: <a href="javadoc/index.html">JavaDoc</a>
  :: <a href="links.html">Links</a>
</div>

@RIGHT_BANNER@

<div class="Text">
<h1>PCTCompileExt task -- &lt;pct:compile_ext /&gt;</h1>

<h2>Description</h2>
<p>
This task is a rewrite of PCTCompile ; the only difference is this task is using a background Progress session, and
the Java part controls the compilation. This allows more things : one example could be using custom mappers (see examples).
</p>

<h2>Parameters</h2>
<table class="params">
<tr>
<th>Attribute</th>
<th>Description</th>
<th>Type</th>
<th>Requirement</th>
<th>Default value</th>
</tr>
<tr>
<td>destDir</td>
<td>Directory where to put compiled code</td>
<td align="center">File</td>
<td align="center">Required</td>
<td>No default value</td>
</tr>
<tr>
<td>minSize</td>
<td>Compile using option <code>MIN-SIZE=&lt;value&gt;</code></td>
<td align="center">Boolean</td>
<td align="center">Optional</td>
<td>False</td>
</tr>
<tr>
<td>MD5</td>
<td>Compile using option <code>GENERATE-MD5=&lt;value&gt;</code></td>
<td align="center">Boolean</td>
<td align="center">Optional</td>
<td>False</td>
</tr>
<tr>
<td>RunList</td>
<td>Generates a .run file for each compiled file, which summarizes RUN statements</td>
<td align="center">Boolean</td>
<td align="center">Optional</td>
<td>False</td>
</tr>
<tr>
<td>Listing</td>
<td>Generates a listing file for each compiled file (LISTING attribute of COMPILE statement). Generated file name is identical to source file name.</td>
<td align="center">Boolean</td>
<td align="center">Optional</td>
<td>False</td>
</tr>
<tr>
<td>Preprocess</td>
<td>Generates a preprocessed file for each compiled file (PREPROCESS attribute of COMPILE statement). Generated file name appends .preprocess to source file name.</td>
<td align="center">Boolean</td>
<td align="center">Optional</td>
<td>False</td>
</tr>
<tr>
<td>DebugListing</td>
<td>Generates a debug-listing file for each compiled file (DEBUG-LIST attribute of COMPILE statement). Generated file name replaces extension of source file name with .dbg</td>
<td align="center">Boolean</td>
<td align="center">Optional</td>
<td>False</td>
</tr>
<tr>
<td>KeepXref</td>
<td>Keeps the generated XREF file for each file. Generated file name replaces extension of source file name with .xref</td>
<td align="center">Boolean</td>
<td align="center">Optional</td>
<td>False</td>
</tr>
<tr>
<td>failOnError</td>
<td>If task should end just after a failed file compilation</td>
<td align="center">Boolean</td>
<td align="center">Optional</td>
<td>False</td>
</tr>
<tr>
<td>noXRef <em>[Deprecated]</em></td>
<td>Don't use XREF when compiling or when reading files to compile</td>
<td align="center">Boolean</td>
<td align="center">Optional</td>
<td>False</td>
</tr>
<tr>
<td>XRefDir</td>
<td>Where PCT files (CRC, includes, preprocess, listing and debug-listing) should be created</td>
<td align="center">File</td>
<td align="center">Optional</td>
<td><em>&lt;destDir&gt;</em>/.pct</td>
</tr>
<tr>
<td>forceCompile</td>
<td>Always compile everything</td>
<td align="center">Boolean</td>
<td align="center">Optional</td>
<td>False</td>
</tr>
<tr>
<td>XCode</td>
<td>Compiles using XCODE option</td>
<td align="center">Boolean</td>
<td align="center">Optional</td>
<td>False</td>
</tr>
<tr>
<td>XCodeKey</td>
<td>Sets specific key for encrypted procedures</td>
<td align="center">String</td>
<td align="center">Optional</td>
<td>No default value</td>
</tr>
<tr>
<td>NoCompile</td>
<td>Just prints files to recompile with the reason why, without executing COMPILE statement</td>
<td align="center">Boolean</td>
<td align="center">Optional</td>
<td>False</td>
</tr>
<tr>
<td>numThreads <span id="new">!!NEW!!</span></td>
<td>Starts n parallel compilation threads</td>
<td align="center">Integer</td>
<td align="center">Optional</td>
<td>1</td>
</tr>
<tr>
<td>Languages</td>
<td>Identifies which language segments to include in the compiled r-code. LANGUAGES option of the COMPILE statement</td>
<td align="center">Strubg</td>
<td align="center">Optional</td>
<td>No default value</td>
</tr>
</table>
<p>PCTCompile inherits attributes from <a href="PCT.html">PCT</a> and 
<a href="PCTRun.html">PCTRun</a>.</p>
<h2>Parameters as nested elements</h2>
<h3>fileset (org.apache.tools.ant.types.Fileset)</h3>
<p>
Adds a file set to the file list to compile
</p>
<h3>mapper (org.apache.tools.ant.types.Mapper)</h3>
<p>
Adds a custom mapper
</p>

<h2>Examples</h2>
<pre>
&lt;PCTCompileExt destDir="build" dlcHome="${env.DLC}"&gt;
  &lt;fileset dir="src"&gt;
    &lt;include name="**/*.p"/&gt;
    &lt;exclude name="test/**"/&gt;
  &lt;/fileset&gt;
  &lt;propath&gt;
    &lt;pathelement path="src/include"/&gt;
  &lt;/propath&gt;
  &lt;mapper type="flatten" /&gt;
&lt;/PCTCompileExt&gt;
</pre>
<p>
Compiles every *.p in src directory (and subdirs) except those from src/test,
with PROPATH set to src/include, and put .r in <b>build</b> directory (removing any subdirectory reference),
i.e. foo/bar.p results in build/bar.r
</p>
<pre>
&lt;PCTCompileExt destDir="build" dlcHome="${env.DLC}"&gt;
  &lt;fileset dir="src"&gt;
    &lt;include name="**/*.p"/&gt;
  &lt;/fileset&gt;
  &lt;compositemapper&gt;
    &lt;regexpmapper from="^(.*)\.p$$" to="\1renamed.r" /&gt;
    &lt;regexpmapper from="^(.*)\.t$$" to="triggers/\1.r" /&gt;
  &lt;/compositemapper&gt;
&lt;/PCTCompileExt&gt;
</pre>
<p>
Compiles every *.p in src directory (and subdirs), and apply a regexp for resulting file :
any .p file results in a .r file appended with renamed, and any .t file results in .r file compiled
in triggers directory.
</p>

<pre>
&lt;PCTCompileExt numThreads="3" destDir="build" dlcHome="${env.DLC}"&gt;
  &lt;fileset dir="src"&gt;
    &lt;include name="**/*.p"/&gt;
    &lt;include name="**/*.w"/&gt;
  &lt;/fileset&gt;
&lt;/PCTCompileExt&gt;
</pre>
<p>
Compiles every .p and .w in src directory (and subdirs), with 3 compilation threads.
</p>

</div>

<div class="LastUpdate">
  $Date: 2007-11-08 12:00:28 +0100 (jeu., 08 nov. 2007) $
</div>

</div>

@ANALYTICS@</body>
</html>
