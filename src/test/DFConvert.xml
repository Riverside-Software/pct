<?xml version="1.0"?>

<project name="DFConvert-test" default="">

  <taskdef resource="PCT.properties" classpath="."/>

  <property environment="env"/>
  
  <!-- Should throw BuildException : no dest dir -->
  <target name="test1">
    <echo file="sandbox/schema.df">
      UPDATE DATABASE "?"
      
      ADD TABLE "Tab1"
        AREA "Schema Area"
        LABEL ""
        DESCRIPTION ""
        DUMP-NAME "Tab1"

      ADD FIELD "Fld1" OF "tab1" AS integer 
        FORMAT "9"
        INITIAL "0"
        LABEL "Fld1"
        POSITION 2
        SQL-WIDTH 4
        COLUMN-LABEL "Fld1"
        ORDER 10

      ADD INDEX "Tab1-PK" ON "tab1" 
        AREA "Schema Area"
        UNIQUE
        PRIMARY
        DESCRIPTION "Primary key"
        INDEX-FIELD "Fld1" ASCENDING 
    </echo>
    <DFConvert srcFile="sandbox/schema.df" dbType="ORACLE" dbVersion="8" 
      destDFFile="sandbox/oracle.df" destSQLFile="sandbox/oracle.sql" tableTblSpc="tables" indexTblSpc="idx" holderName="oraholder"
    dlcHome="${env.DLC}"/>
  </target>
  
  <target name="test2">
    <echo file="sandbox/schema.df">
      UPDATE DATABASE "?"
      
      ADD TABLE "Tab1"
        AREA "Schema Area"
        LABEL ""
        DESCRIPTION ""
        DUMP-NAME "Tab1"

      ADD FIELD "Fld1" OF "tab1" AS integer 
        FORMAT "9"
        INITIAL "0"
        LABEL "Fld1"
        POSITION 2
        SQL-WIDTH 4
        COLUMN-LABEL "Fld1"
        ORDER 10

      ADD INDEX "Tab1-PK" ON "tab1" 
        AREA "Schema Area"
        UNIQUE
        PRIMARY
        DESCRIPTION "Primary key"
        INDEX-FIELD "Fld1" ASCENDING 
    </echo>
    <DFConvert srcFile="sandbox/schema.df" dbType="MSSQL" dbVersion="7" 
      destDFFile="sandbox/mss.df" destSQLFile="sandbox/mss.sql"  holderName="mssholder"
    dlcHome="${env.DLC}"/>
  </target>
 
</project>