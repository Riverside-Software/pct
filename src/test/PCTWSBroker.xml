<?xml version="1.0"?>
<project name="PCTWSBroker-test" default="">
  <!-- $Revision: 453 $ -->

  <taskdef resource="PCT.properties" classpath="." />

  <property environment="env" />

  <!-- Missing parameters #1 -->
  <target name="failure1">
    <PCTWSBroker name="test" file="sandbox/ubroker.properties" dlcHome="${DLC}" />
  </target>

  <!-- Missing parameters #2 -->
  <target name="failure2">
    <PCTWSBroker action="create" file="sandbox/ubroker.properties" dlcHome="${DLC}" />
  </target>

  <!-- Simplest test : we should just get the declaration... -->
  <target name="SimplestTest">
    <PCTWSBroker action="create" name="Test" file="sandbox/ubroker.properties" dlcHome="${DLC}" />
  </target>

  <!-- Testing broker & server log attributes -->
  <target name="TestLogging">
    <PCTWSBroker action="create" name="Test" file="sandbox/ubroker.properties" dlcHome="${DLC}" brokerLogFile="broker.log" brokerLogLevel="4" serverLogFile="server.log" serverLogLevel="1" />
  </target>

  <!-- Testing broker deletion -->
  <target name="TestWsDelete">
    <PCTWSBroker action="create" name="Test" file="sandbox/ubroker.properties" dlcHome="${DLC}" />
    <PCTWSBroker action="delete" name="Test" file="sandbox/ubroker.properties" dlcHome="${DLC}" />
  </target>

  <!-- Second create should throw BuildException -->
  <target name="TestDoubleCreate-Part1">
    <PCTASBroker action="create" name="Test" file="sandbox/ubroker.properties" dlcHome="${DLC}" />
  </target>
  <target name="TestDoubleCreate-Part2">
    <PCTASBroker action="create" name="Test" file="sandbox/ubroker.properties" dlcHome="${DLC}" />
  </target>

  <!-- Testing a few attributes : -->
  <target name="TestAttributes-1">
    <PCTWSBroker action="create" name="Test" file="sandbox/ubroker.properties" dlcHome="${DLC}" workDir="sandbox" autoStart="true" initialPool="4" minPool="3" maxPool="5" />
  </target>

  
</project>
